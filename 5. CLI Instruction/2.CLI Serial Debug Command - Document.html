<!DOCTYPE html>
<!-- saved from url=(0053)https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>2.CLI Serial Debug Command - Document</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="./2.CLI Serial Debug Command - Document_files/vue.css">
</head>
<body data-page="docs/mxoscharacter/2.CLI.md" class="ready sticky">
  <section class="cover" style="background: linear-gradient(to left bottom, hsl(109, 100%, 85%) 0%,hsl(18, 100%, 85%) 100%)"><div class="cover-main"><h1 id="mxchip-technical-documents-center"><a href="https://en.docs.mxchip.com/#/?id=mxchip-technical-documents-center" data-id="mxchip-technical-documents-center" class="anchor"><span>MXCHIP Technical Documents Center</span></a></h1><p>@ MXCHIP 2019</p><p>( Please Pull up for more content. )</p></div><div class="mask"></div></section><main><button class="sidebar-toggle" aria-label="Menu"><div class="sidebar-toggle-button"><span></span><span></span><span></span></div></button><aside class="sidebar"><div class="sidebar-nav"><ul><li><p><strong><a href="https://en.docs.mxchip.com/#/docs/README">Main Page</a></strong></p></li><li><p><strong>About mxos</strong></p><ul><li><a href="https://en.docs.mxchip.com/#/docs/mxos/1.Guide">1.Guide</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxos/2.mxos_brief_introduction">2.MXOS Brief Introduction</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxos/3.mxos_components">3.MXOS Components</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxos/4.mxos_development_board">4.MXOS Development Board</a></li></ul></li></ul><ul><li><strong>Development Tools</strong><ul><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/1.Guide">1.Guide</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/2.mxos_Cube">2.MXOS Cube</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/3.mxos_IDE">3.MXOS IDE</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/4.JTAG_debugger">4.JTAG Debugger</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/5.Serial_debug_terminal">5.Serial Debug Terminal</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/6.Third_party_driver">6.Third Party Driver</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/7.Helloworld">7.Helloworld</a></li></ul></li></ul><ul><li><p><strong>MXOS System Characteristics</strong></p><ul><li><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/1.Bootloader">1.Bootloader Mode</a></li><li class="active"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI">2.CLI Serial Debug Command</a><ul class="app-sub-sidebar"><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=introduction">Introduction</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-function-implementation">CLI function implementation</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=add-and-delete-new-cli-commands">Add and delete new CLI commands</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-input-and-output-function">CLI input and output function</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-function-api-prototype">CLI function API prototype</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-serial-port-connection">CLI serial port connection</a></li><ul class="app-sub-sidebar"><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=_1-confirm-uart-port">1. Confirm UART port</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=_2-install-the-driver">2. Install the driver</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=_3-pc-side-view-port-number">3. PC side view port number</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=_4-securecrt-connection-serial-port">4. SecureCRT connection serial port</a></li></ul><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-command-list">CLI Command List</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-command-usage-example">CLI command usage example</a></li><ul class="app-sub-sidebar"><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=help">help</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=version">version</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=echo">echo</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=exit">exit</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=scan">scan</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=wifistate">wifistate</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=wifidebug">wifidebug</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=ifconfig">ifconfig</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=arp">arp</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=ping">ping</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=dns">dns</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=sockshow">sockshow</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=tasklist">tasklist</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=memshow">memshow</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=memdump">memdump</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=memset">memset</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=memp">memp</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=wifidriver">wifidriver</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=reboot">reboot</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=tftp">tftp</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=time">time</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=ota">ota</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=flash">flash</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=mxosdebug">mxosdebug</a></li></ul></ul></li><li><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/3.Kernel_API">3.Kernel API</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/4.Core_data">4.Core Data Management</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/5.WiFi_configuration">5.WiFi Configuration</a></li></ul></li><li><p><strong>MXOS API Description</strong></p><ul><li><a href="https://en.docs.mxchip.com/#/docs/mxosapi/0.HAL">0.Hardware Abstract Layer</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxosapi/1.Socket">1.Socket Communication</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxosapi/2.Http">2.Http Communication</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxosapi/3.Json_parsing">3.Json Format Parsing</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxosapi/4.Security_algorithm">4.Security Algorithm</a></li></ul></li><li><p><strong>WiFiÔºèBT AT Command</strong></p><ul><li><a href="https://en.docs.mxchip.com/#/docs/AT/0.%E5%9B%BA%E4%BB%B6%E4%B8%8B%E8%BD%BD">0.Firmware download</a></li><li><a href="https://en.docs.mxchip.com/#/docs/AT/1.%E5%9B%BA%E4%BB%B6%E8%AF%B4%E6%98%8E">1.Firmware description</a></li><li><a href="https://en.docs.mxchip.com/#/docs/AT/2.%E6%8C%87%E4%BB%A4%E8%AF%B4%E6%98%8E">2.Command description</a></li><li><a href="https://en.docs.mxchip.com/#/docs/AT/3.%E5%9F%BA%E7%A1%80%E6%8C%87%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%94%A8%E4%BE%8B">3.Basic AT Command Usage Demo</a></li></ul></li></ul><ul><li><strong>BLE AT Command</strong><ul><li><strong>EMB1061/EMB1060 AT</strong><ul><li><a href="https://en.docs.mxchip.com/#/docs/BLEAT/1060AT/0.Firmware_download">0.Firmware Download</a></li><li><a href="https://en.docs.mxchip.com/#/docs/BLEAT/1060AT/1.Firmware_description">1.Firmware Description</a></li><li><a href="https://en.docs.mxchip.com/#/docs/BLEAT/1060AT/2.Command_description">2.Command Description</a></li></ul></li></ul></li></ul></div></aside><section class="content"><article class="markdown-section" id="main"><h1 id="cli-command-line"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-command-line" data-id="cli-command-line" class="anchor"><span>CLI command line</span></a></h1><p>mxos provides the user with a serial CLI command line debugging function to view the current device status to assist in debugging analysis. </p><h2 id="introduction"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=introduction" data-id="introduction" class="anchor"><span>Introduction</span></a></h2><p>mxos's CLI commands are input and output through the system debug serial port, whose baud rate is usually: 115200bps. Input: help, you can see the help command list:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_help.png" data-origin="image/2.cli/cli_help.png" alt="cli_help"></p><h2 id="cli-function-implementation"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-function-implementation" data-id="cli-function-implementation" class="anchor"><span>CLI function implementation</span></a></h2><p>If you need to open the mxos CLI function, according to the mxos SDK version, modify it as follows:</p><ul><li>In the project (mxos_SDK_v2.3.0 and above), the serial command line debugging function has been enabled by default in the function: mxos_system_init( mxos_context ), and the user does not need to modify the code to add functions.</li></ul><h2 id="add-and-delete-new-cli-commands"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=add-and-delete-new-cli-commands" data-id="add-and-delete-new-cli-commands" class="anchor"><span>Add and delete new CLI commands</span></a></h2><p>Each command of the CLI is defined in the mxos_cli.h file and is defined as follows:</p><pre v-pre="" data-lang=""><code class="lang-">struct cli_command {
    /** The name of the CLI command */
    const char *name;
    /** The help text associated with the command */
    const char *help;
    /** The function that should be invoked for this command. */
    void (*function) (char *pcWriteBuffer, int xWriteBufferLen, int argc, char **argv);
    };
    int cli_register_command(const struct cli_command *command)</code></pre><ul><li>Function: Add a command </li><li>Parameter: command is a pointer to a command, the memory address must not be free, CLI is just a pointer to record the memory, will not do copy. </li><li>Returns: 0 is returned successfully, and 1 is returned by failure.</li></ul><p><code>int cli_register_commands(const struct cli_command *commands, int num_commands)</code></p><ul><li>Function: Add a set of commands </li><li>Parameters: command points to an array of commands, the array can not be free, CLI is just a pointer to each command that records the reorganized array; num_commands is the number of commands in this array. </li><li>Returns: 0 is returned successfully, and 1 is returned by failure.</li></ul><p><code>int cli_unregister_command(const struct cli_command *command)</code></p><ul><li>Function: Delete a command </li><li>Parameter: The command pointer must be the same as the register command successfully succeeded; </li><li>Return: 0 is returned successfully, and 1 is returned.</li></ul><p><code>int cli_register_commands(const struct cli_command *commands, int num_commands)</code></p><ul><li>Function: Remove the num_commands command from the commands array. </li><li>Returns: 0 is returned successfully, and 1 is returned by failure.</li></ul><h2 id="cli-input-and-output-function"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-input-and-output-function" data-id="cli-input-and-output-function" class="anchor"><span>CLI input and output function</span></a></h2><p><code>int cli_printf(const char *msg, ...)</code></p><p>Similar to the output function of the printf function, the output of the CLI result is implemented.</p><p><code>int cli_putstr(const char *msg)</code></p><p>The CLI has no formatted output, and msg points to a string.</p><p><code>int cli_getchar(char *inbuf)</code></p><p>The input of the CLI, which takes one byte of data at a time, returns 1 successfully, and returns 0.</p><h2 id="cli-function-api-prototype"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-function-api-prototype" data-id="cli-function-api-prototype" class="anchor"><span>CLI function API prototype</span></a></h2><p>To facilitate debugging, the mxos 2.0 library provides a set of APIs for debugging. Each API prototype is: </p><p><code>void (*function) (char *pcWriteBuffer, int xWriteBufferLen, int argc, char **argv)</code></p><p> where:</p><ul><li>pcWriteBuffer: the cache address used to record the CLI results;</li><li>xWriteBufferLen: the maximum length of the cache;</li><li>argc: number of parameters for the CLI, including commands;</li><li>argv: a pointer to a parameter array containing argc strings.</li></ul><h2 id="cli-serial-port-connection"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-serial-port-connection" data-id="cli-serial-port-connection" class="anchor"><span>CLI serial port connection</span></a></h2><h3 id="_1-confirm-uart-port"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=_1-confirm-uart-port" data-id="_1-confirm-uart-port" class="anchor"><span>1. Confirm UART port</span></a></h3><p>In the mxos SDK, the debug serial port and the debug command serial port usually share a UART port. The specific one needs to be confirmed in the SDK Board/platform.c according to the Wi-Fi module model. </p><p>Take mxosKit-3165 as an example. The CLI serial port is defined as follows:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_uart.png" data-origin="image/2.cli/cli_uart.png" alt="cli_uart"></p><h3 id="_2-install-the-driver"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=_2-install-the-driver" data-id="_2-install-the-driver" class="anchor"><span>2. Install the driver</span></a></h3><p>Development board power cord, that is, the debug serial line is connected to the PC end, you need to install the USB to UART driver, download address: <a href="http://www.ftdichip.com/Drivers/VCP.htm" target="_blank" rel="noopener">http://www.ftdichip.com/Drivers/VCP.htm</a>,</p><h3 id="_3-pc-side-view-port-number"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=_3-pc-side-view-port-number" data-id="_3-pc-side-view-port-number" class="anchor"><span>3. PC side view port number</span></a></h3><p>After the installation is successful, open the PC Device Manager and view the serial port information as shown below.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_com.png" data-origin="image/2.cli/cli_com.png" alt="cli_com"></p><h3 id="_4-securecrt-connection-serial-port"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=_4-securecrt-connection-serial-port" data-id="_4-securecrt-connection-serial-port" class="anchor"><span>4. SecureCRT connection serial port</span></a></h3><p>Found port number COM11, indicating that the driver is successfully installed, open SecureCRT (or other serial debugging software), connect COM11 serial port, set as follows:</p><p><img src="./2.CLI Serial Debug Command - Document_files/com_config.png" data-origin="image/2.cli/com_config.png" alt="cli_comcofig"></p><p>After the connection is successful, you can enter the command line to debug the serial port.</p><h2 id="cli-command-list"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-command-list" data-id="cli-command-list" class="anchor"><span>CLI Command List</span></a></h2><p>Input CLI Command in debug serial prot,you can get log information printed.
Command are listed in tables:</p><table>
<thead>
<tr>
<th align="center">Number</th>
<th align="left">Command</th>
<th align="left">Function</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=help">help</a></td>
<td align="left">Query all serial commands and their functions</td>
</tr>
<tr>
<td align="center">2</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=version">version</a></td>
<td align="left">Query Device Firmware Version Information</td>
</tr>
<tr>
<td align="center">3</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=echo">echo</a></td>
<td align="left">Query or set command postback function</td>
</tr>
<tr>
<td align="center">4</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=exit">exit</a></td>
<td align="left">Exit Serial Command Line Status</td>
</tr>
<tr>
<td align="center">5</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=scan">scan</a></td>
<td align="left">Scanning around WiFi access point AP</td>
</tr>
<tr>
<td align="center">6</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=wifistate">wifistate</a></td>
<td align="left">Query wifi current status</td>
</tr>
<tr>
<td align="center">7</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=wifidebug">wifidebug</a></td>
<td align="left">View or set WiFi debugging function</td>
</tr>
<tr>
<td align="center">8</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=ifconfig">ifconfig</a></td>
<td align="left">Query Device IP Address</td>
</tr>
<tr>
<td align="center">9</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=arp">arp</a></td>
<td align="left">Query or clear arp list</td>
</tr>
<tr>
<td align="center">10</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=ping">ping</a></td>
<td align="left">Test whether the machine can communicate with an IP address</td>
</tr>
<tr>
<td align="center">11</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=dns">dns</a></td>
<td align="left">Query or clear DNS domain name resolution IP address</td>
</tr>
<tr>
<td align="center">12</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=sockshow">sockshow</a></td>
<td align="left">Query all socket socket status</td>
</tr>
<tr>
<td align="center">13</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=tasklist">tasklist</a></td>
<td align="left">Query the names and states of all threads</td>
</tr>
<tr>
<td align="center">14</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=memshow">memshow</a></td>
<td align="left">Query Memory Usage Information</td>
</tr>
<tr>
<td align="center">15</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=memdump">memdum</a></td>
<td align="left">Copy data from specified memory address</td>
</tr>
<tr>
<td align="center">16</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=memset">memset</a></td>
<td align="left">Setting data to the specified memory address</td>
</tr>
<tr>
<td align="center">17</td>
<td align="left">[memp](#memp</td>
<td align="left">Query Memory Space Allocation List</td>
</tr>
<tr>
<td align="center">18</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=wifidriver">wifidriver</a></td>
<td align="left">Query WiFi driver information</td>
</tr>
<tr>
<td align="center">19</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=reboot">reboot</a></td>
<td align="left">Restart System</td>
</tr>
<tr>
<td align="center">20</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=tftp">tftp</a></td>
<td align="left">Write the file to the device with the specified flash address</td>
</tr>
<tr>
<td align="center">21</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=time">time</a></td>
<td align="left">Query device system runtime</td>
</tr>
<tr>
<td align="center">22</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=ota">ota</a></td>
<td align="left">System Auto OTA Upgrade</td>
</tr>
<tr>
<td align="center">23</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=flash">flash</a></td>
<td align="left">Query flash space allocation list</td>
</tr>
<tr>
<td align="center">24</td>
<td align="left"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=mxosdebug">mxosdebug</a></td>
<td align="left">Turn off or turn on log output function</td>
</tr>
</tbody></table>
<p>The following is a brief introduction to the CLI commands in the list.</p><h2 id="cli-command-usage-example"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=cli-command-usage-example" data-id="cli-command-usage-example" class="anchor"><span>CLI command usage example</span></a></h2><h3 id="help"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=help" data-id="help" class="anchor"><span>help</span></a></h3><p>Function: Query all serial commands and functions</p><p>In the Command Window command window, enter the command "help", press Enter, the serial port returns the content, as shown below:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_help.png" data-origin="image/2.cli/cli_help.png" alt="cli_help"></p><h3 id="version"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=version" data-id="version" class="anchor"><span>version</span></a></h3><p>Function: Query device firmware version information</p><p>In the Command Window command window, enter the command "version", press Enter, the serial port returns the content, as shown below:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_version.png" data-origin="image/2.cli/cli_version.png" alt="cli_version"></p><h3 id="echo"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=echo" data-id="echo" class="anchor"><span>echo</span></a></h3><p>Function: Query or set the command return function</p><p>1) Enter the command "echo" in the Command Window command window, press Enter, the serial port returns the content, as shown below:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_echo.png" data-origin="image/2.cli/cli_echo.png" alt="cli_echo"></p><p>The command postback function is turned off. Enter the command "version" and press Enter. No "# version" is seen in the return.</p><p>2) Enter the command "echo off" in the Command Window command window, press Enter, the serial port returns the content, as shown below:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_echo_on.png" data-origin="image/2.cli/cli_echo_on.png" alt="cli_echo_on"></p><p>The command return function is enabled. Enter the command "version" and press Enter. You see "# version" in the return. It is generally recommended to enable the echo function to facilitate simultaneous viewing of command functions.</p><h3 id="exit"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=exit" data-id="exit" class="anchor"><span>exit</span></a></h3><p>Function:Exit the serial port command line state</p><p>In the Command Window command window, enter the command "exit", press Enter, the serial port returns the content, as shown below:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_exit.png" data-origin="image/2.cli/cli_exit.png" alt="cli_exit"></p><p>After the input command is invalid, it must be powered on and restarted before it can take effect.</p><h3 id="scan"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=scan" data-id="scan" class="anchor"><span>scan</span></a></h3><p>Function: scan the surrounding WiFi access point AP</p><p><code>void wifiscan_Command(CLI_ARGS)</code></p><p>In the Command Window command window, enter the command "scan", press Enter, the serial port returns the content, as shown belowÔºö</p><p><code>void wifiscan_Command(CLI_ARGS);</code></p><p>In the Command Window command window, enter the command "scan", press Enter, the serial port returns the content, as shown belowÔºö</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_scan.png" data-origin="image/2.cli/cli_scan.png" alt="cli_scan"></p><p>Get the AP hotspot name, channel, encryption method, and signal strength near the mxos device.</p><h3 id="wifistate"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=wifistate" data-id="wifistate" class="anchor"><span>wifistate</span></a></h3><p>Function: query wifi current status</p><p><code>void wifistate_Command(CLI_ARGS);</code></p><p>In the Command Window command window, enter the command "wifistate", press Enter, the serial port returns the content, as shown below:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_wifistate.png" data-origin="image/2.cli/cli_wifistate.png" alt="cli_wifistate"></p><p>First, the information of the AP to be connected is output, including the SSID, password, BSSID, and retry interval (in ms). Then the status of the connection is output. If the connection is successful, the detailed information of the connected AP, including SSID, channel, signal strength and BSSID, is output.</p><h3 id="wifidebug"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=wifidebug" data-id="wifidebug" class="anchor"><span>wifidebug</span></a></h3><p>Function: View or set WiFi debugging function</p><p><code>void wifidebug_Command(CLI_ARGS);</code></p><p>Where: argc must be 2, argv[1] can be "on" and "off", which are used to turn the wifi debug output on and off, respectively. </p><p> (1) When the device enters the distribution network and waits for the distribution network, enter the command ‚Äúwifidebug on‚Äù in the Command Window command window, press Enter, and then perform the distribution network. The serial port returns the content, as shown below:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_wifidebugon.png" data-origin="image/2.cli/cli_wifidebugon.png" alt="cli_wifidebugon"></p><p>Note: This command is a dynamic command. It is valid during one power-on process. It is turned off when it is powered on again. It needs to be turned on again to take effect.</p><p>Ôºà2ÔºâEnter the command "wifidebug off" in the Command Window command window, press Enter, the serial port returns the content, as shown below:!</p><p>!<img src="./2.CLI Serial Debug Command - Document_files/cli_wifidebugoff.png" data-origin="image/2.cli/cli_wifidebugoff.png" alt="cli_wifidebugoff"></p><p>At this point, the debug information log in the WiFi library will stop outputting.</p><h3 id="ifconfig"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=ifconfig" data-id="ifconfig" class="anchor"><span>ifconfig</span></a></h3><p>Function: Query the device IP address</p><p><code>void ifconfig_Command(CLI_ARGS)</code></p><p>In the Command Window command window, enter the command "ifconfig", press Enter, the serial port returns the content, as shown below: </p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_ifconfig.png" data-origin="image/2.cli/cli_ifconfig.png" alt="cli_ifconfig"></p><h3 id="arp"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=arp" data-id="arp" class="anchor"><span>arp</span></a></h3><p>Function: Query or clear the arp list</p><p><code>void arp_Command(CLI_ARGS)</code></p><p>The arp command supports one parameter, show and clean. Clean is used to clear the ARP cache. Show is used to output the arp cache, using the following:</p><p>(1) Enter the command "arp" in the Command Window command window, press Enter, the serial port returns the content, as shown below: Return the arp command format to show and clean respectively.</p><p> <img src="./2.CLI Serial Debug Command - Document_files/cli_arp.png" data-origin="image/2.cli/cli_arp.png" alt="cli_arp"></p><p>(2) Enter the command "arp show" in the Command Window command window, press Enter, and then try to communicate with other IP addresses in the LAN through the ping command, and return the result through "arp show" again.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_arpshow.png" data-origin="image/2.cli/cli_arpshow.png" alt="cli_arpshow"></p><p>(3) Enter the command "arp clean" in the Command Window command window, clear the arp cache, press Enter, and then view it by the command "arp show". The serial port returns as shown below: </p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_arpclean.png" data-origin="image/2.cli/cli_arpclean.png" alt="cli_arpclean"></p><h3 id="ping"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=ping" data-id="ping" class="anchor"><span>ping</span></a></h3><p>Function: Test whether the machine can communicate with an IP address.</p><p><code>void ping_Command(CLI_ARGS);</code></p><p>The ping command is used to ping an IP address. It only supports IP addresses and does not support domain names. Will ping 5 times in a row, each time delay 1 second, output after ping completion Enter the command "ping 192.168.1.1" in the Command Window command window, press Enter, the serial port returns the content, as shown below:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_ping.png" data-origin="image/2.cli/cli_ping.png" alt="cli_ping"></p><p>The device is connected to the IP address.</p><h3 id="dns"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=dns" data-id="dns" class="anchor"><span>dns</span></a></h3><p>Function: Query or clear the DNS domain name resolution IP address</p><p><code>void dns_Command(CLI_ARGS);</code></p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_dns.png" data-origin="image/2.cli/cli_dns.png" alt="cli_dns"></p><p>(1) The command format of dns can be displayed. (At this time, the device runs demo: wifi_uart transparent transmission project, equipped with network)</p><p>(2) Enter the command "dns show" in the Command Window command window, press Enter, the serial port returns the following content:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_dnsshow.png" data-origin="image/2.cli/cli_dnsshow.png" alt="cli_dnsshow"></p><p>At this point, enter the command "dns <a href="http://www.baidu.com%22/" target="_blank" rel="noopener">www.baidu.com"</a> in the Command Window command window, and return the following:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_dnsshowbaidu.png" data-origin="image/2.cli/cli_dnsshowbaidu.png" alt="cli_dnsshowbaidu"></p><p>At this point, enter the command "dns show" in the Command Window command window, press Enter, return to the following figure:</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_dnsshowlist.png" data-origin="image/2.cli/cli_dnsshowlist.png" alt="cli_dnsshowlist"></p><p>(3) Enter the command "dns clean" in the Command Window command window, press Enter, and the serial port returns the following content: </p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_dnsclean.png" data-origin="image/2.cli/cli_dnsclean.png" alt="cli_dnsclean"></p><h3 id="sockshow"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=sockshow" data-id="sockshow" class="anchor"><span>sockshow</span></a></h3><p>Function: Query all socket socket status</p><p><code>void socket_show_Command(CLI_ARGS);</code></p><p>Displays the status of the current system socket, showing the status of the BSD socket, the status of the TCP, and the status of the UDP. In the Command Window command window, enter the command "sockshow", press Enter, and the serial port returns the content, as shown below: Display all the socket connection status information of the device.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_sockshow.png" data-origin="image/2.cli/cli_sockshow.png" alt="cli_sockshow"></p><h3 id="tasklist"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=tasklist" data-id="tasklist" class="anchor"><span>tasklist</span></a></h3><p>Function: query all thread names and status</p><p><code>void task_Command(CLI_ARGS);</code></p><p>Used to display the status of the current system's Thread thread. In the Command Window command window, enter the command "tasklist", press Enter, and the serial port returns the content, as shown below: Display all current thread status information of the device.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_tasklist.png" data-origin="image/2.cli/cli_tasklist.png" alt="cli_tasklist"></p><p>Among them:</p><ul><li>Status - R stands for thread running, S stands for thread stop, and B stands for thread blocking;</li><li>Prio (priority) - thread priority level;</li><li>Stack - the size of the stack space occupied by the thread;</li><li>TCB (task fast) - thread task block size.</li></ul><h3 id="memshow"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=memshow" data-id="memshow" class="anchor"><span>memshow</span></a></h3><p>Function:Query memory usage information</p><p><code>void memory_show_Command(CLI_ARGS);</code></p><p>Display the current system memory status Enter the command "memshow" in the Command Window command window, press Enter, the serial port returns the content, as shown below: display the current memory usage information of the device.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_memshow.png" data-origin="image/2.cli/cli_memshow.png" alt="cli_memsshow"></p><h3 id="memdump"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=memdump" data-id="memdump" class="anchor"><span>memdump</span></a></h3><p>Function: copy data from the specified memory address</p><p><code>void memory_dump_Command(CLI_ARGS);</code></p><p>DUMP formatted the contents of a memory address in HEX format. In the Command Window command window, enter the command "memdump 0x0001000 100", press Enter, the serial port returns the content, as shown below: Read the data of the specified memory address of the device.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_memp.png" data-origin="image/2.cli/cli_memp.png" alt="cli_memp"></p><p>0x200003c0 is the starting address of the memory address that needs to be dumped, and 10 is the length of the dump.</p><h3 id="memset"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=memset" data-id="memset" class="anchor"><span>memset</span></a></h3><p>Function: set data to the specified memory address</p><p><code>void memory_set_Command(CLI_ARGS);</code></p><p>Set the data content of a certain memory address. </p><p>(1) Enter the command "memset 0x0001000 100" in the Command Window command window, press Enter, the serial port returns the content, as shown below: Write to the device specified memory address data, and read it through the memdump command to verify the written data content.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_memset.png" data-origin="image/2.cli/cli_memset.png" alt="cli_memset"></p><p>Among them, 
0x200003c0 is the starting address, followed by multiple parameters, each parameter corresponding to the content of an address. But note: Sometimes some memory addresses are not allowed to be written.</p><h3 id="memp"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=memp" data-id="memp" class="anchor"><span>memp</span></a></h3><p>Function: query memory space allocation list</p><p><code>void memp_dump_Command(CLI_ARGS);</code></p><p>Displays the usage of each cache address pool of the current protocol stack. In the Command Window command window, enter the command "memp", press Enter, and the serial port returns the content, as shown below: Display the current memory allocation of the device.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_memp.png" data-origin="image/2.cli/cli_memp.png" alt="cli_memp"></p><h3 id="wifidriver"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=wifidriver" data-id="wifidriver" class="anchor"><span>wifidriver</span></a></h3><p>Function: Query wifi driver status</p><p><code>void driver_state_Command(CLI_ARGS);</code></p><p>It is used to print out the running status of the wifi driver in the current system. Enter the command ‚Äúwifidriver‚Äù in the Command Window command window, press Enter, and return the content on the serial port, as shown below.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_wifidriver.png" data-origin="image/2.cli/cli_wifidriver.png" alt="cli_wifidriver"></p><h3 id="reboot"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=reboot" data-id="reboot" class="anchor"><span>reboot</span></a></h3><p>Function: Restart the mxos system</p><p>In the Command Window command window, enter the command "reboot" and press Enter. The serial port returns the content as shown in the figure and the device is restarted.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_reboot.png" data-origin="image/2.cli/cli_reboot.png" alt="cli_reboot"></p><h3 id="tftp"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=tftp" data-id="tftp" class="anchor"><span>tftp</span></a></h3><p>Function:Write the file to the device with the specified flash address.
Temporarily not supported.</p><h3 id="time"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=time" data-id="time" class="anchor"><span>time</span></a></h3><p>Function: Query the running time of the device system</p><p>In the Command Window command window, enter the command "time" to enter, the serial port returns the content as shown.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_time.png" data-origin="image/2.cli/cli_time.png" alt="cli_time"></p><h3 id="ota"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=ota" data-id="ota" class="anchor"><span>ota</span></a></h3><p>Function: System automatic OTA upgrade</p><p>Temporarily not supported.</p><h3 id="flash"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=flash" data-id="flash" class="anchor"><span>flash</span></a></h3><p>Function: Query the flash space allocation list</p><p>In the Command Window command window, enter the command "flash" to enter, the serial port returns the content as shown.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_flash.png" data-origin="image/2.cli/cli_flash.png" alt="cli_flash"></p><h3 id="mxosdebug"><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI?id=mxosdebug" data-id="mxosdebug" class="anchor"><span>mxosdebug</span></a></h3><p>Function: Turn off or turn on the mxos run log output function</p><p>1) Enter the command "mxosdebug off" in the Command Window command window, and return the contents of the serial port as shown in the figure.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_mxosdebugoff.png" data-origin="image/2.cli/cli_mxosdebugoff.png" alt="cli_mxosdebugoff"></p><p>Verification: Perform related operations on the device, such as the transparent transmission routine: set the device to connect to the IP address of the server through Easylink, and see if there is any information output from the debug serial port. Result: no log information is output.</p><p>2) Enter the command "mxosdebug on" in the Command Window command window, and return the contents of the serial port as shown in the figure.</p><p><img src="./2.CLI Serial Debug Command - Document_files/cli_mxosdebugon.png" data-origin="image/2.cli/cli_mxosdebugon.png" alt="cli_mxosdebugon"></p><p>Verification: 
Same as (1), related operations on the device, such as transparent transmission routine: set the device to connect to the IP address of the server through Easylink, and see if there is any information output from the debug serial port. Result: log information is output.</p><hr>
<p>END</p></article></section></main>
  <script>
    window.$docsify = {
      name: '',
      repo: '',
      auto2top: true,
      coverpage: true,
      executeScript: true,
      loadSidebar: true,
      // loadNavbar: true,
      mergeNavbar: true,
      maxLevel: 4,
      subMaxLevel: 3,
      // ga: 'UA-106147152-1',
    }
  </script>
  <style>
    .sidebar li{
      margin: 0;
    }
  </style>
  <script src="./2.CLI Serial Debug Command - Document_files/docsify.min.js.download"></script>


<div class="progress" style="opacity: 0; width: 0%;"></div></body></html>