<!DOCTYPE html>
<!-- saved from url=(0058)https://en.docs.mxchip.com/#/docs/mxostool/4.JTAG_debugger -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>4.JTAG Debugger - Document</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="./4.JTAG Debugger - Document_files/vue.css">
</head>
<body data-page="docs/mxostool/4.JTAG_debugger.md" class="ready sticky">
  <section class="cover" style="background: linear-gradient(to left bottom, hsl(109, 100%, 85%) 0%,hsl(18, 100%, 85%) 100%)"><div class="cover-main"><h1 id="mxchip-technical-documents-center"><a href="https://en.docs.mxchip.com/#/?id=mxchip-technical-documents-center" data-id="mxchip-technical-documents-center" class="anchor"><span>MXCHIP Technical Documents Center</span></a></h1><p>@ MXCHIP 2019</p><p>( Please Pull up for more content. )</p></div><div class="mask"></div></section><main><button class="sidebar-toggle" aria-label="Menu"><div class="sidebar-toggle-button"><span></span><span></span><span></span></div></button><aside class="sidebar"><div class="sidebar-nav"><ul><li><p><strong><a href="https://en.docs.mxchip.com/#/docs/README">Main Page</a></strong></p></li><li><p><strong>About mxos</strong></p><ul><li><a href="https://en.docs.mxchip.com/#/docs/mxos/1.Guide">1.Guide</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxos/2.mxos_brief_introduction">2.MXOS Brief Introduction</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxos/3.mxos_components">3.MXOS Components</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxos/4.mxos_development_board">4.MXOS Development Board</a></li></ul></li></ul><ul><li><strong>Development Tools</strong><ul><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/1.Guide">1.Guide</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/2.mxos_Cube">2.MXOS Cube</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/3.mxos_IDE">3.MXOS IDE</a></li><li class="active"><a href="https://en.docs.mxchip.com/#/docs/mxostool/4.JTAG_debugger">4.JTAG Debugger</a><ul class="app-sub-sidebar"><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxostool/4.JTAG_debugger?id=jlink">JLink</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxostool/4.JTAG_debugger?id=stlink">STLink</a></li><li><a class="section-link" href="https://en.docs.mxchip.com/#/docs/mxostool/4.JTAG_debugger?id=daplink">DAPLink</a></li></ul></li><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/5.Serial_debug_terminal">5.Serial Debug Terminal</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/6.Third_party_driver">6.Third Party Driver</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxostool/7.Helloworld">7.Helloworld</a></li></ul></li></ul><ul><li><p><strong>MXOS System Characteristics</strong></p><ul><li><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/1.Bootloader">1.Bootloader Mode</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/2.CLI">2.CLI Serial Debug Command</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/3.Kernel_API">3.Kernel API</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/4.Core_data">4.Core Data Management</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxoscharacter/5.WiFi_configuration">5.WiFi Configuration</a></li></ul></li><li><p><strong>MXOS API Description</strong></p><ul><li><a href="https://en.docs.mxchip.com/#/docs/mxosapi/0.HAL">0.Hardware Abstract Layer</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxosapi/1.Socket">1.Socket Communication</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxosapi/2.Http">2.Http Communication</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxosapi/3.Json_parsing">3.Json Format Parsing</a></li><li><a href="https://en.docs.mxchip.com/#/docs/mxosapi/4.Security_algorithm">4.Security Algorithm</a></li></ul></li><li><p><strong>WiFi／BT AT Command</strong></p><ul><li><a href="https://en.docs.mxchip.com/#/docs/AT/0.%E5%9B%BA%E4%BB%B6%E4%B8%8B%E8%BD%BD">0.Firmware download</a></li><li><a href="https://en.docs.mxchip.com/#/docs/AT/1.%E5%9B%BA%E4%BB%B6%E8%AF%B4%E6%98%8E">1.Firmware description</a></li><li><a href="https://en.docs.mxchip.com/#/docs/AT/2.%E6%8C%87%E4%BB%A4%E8%AF%B4%E6%98%8E">2.Command description</a></li><li><a href="https://en.docs.mxchip.com/#/docs/AT/3.%E5%9F%BA%E7%A1%80%E6%8C%87%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%94%A8%E4%BE%8B">3.Basic AT Command Usage Demo</a></li></ul></li></ul><ul><li><strong>BLE AT Command</strong><ul><li><strong>EMB1061/EMB1060 AT</strong><ul><li><a href="https://en.docs.mxchip.com/#/docs/BLEAT/1060AT/0.Firmware_download">0.Firmware Download</a></li><li><a href="https://en.docs.mxchip.com/#/docs/BLEAT/1060AT/1.Firmware_description">1.Firmware Description</a></li><li><a href="https://en.docs.mxchip.com/#/docs/BLEAT/1060AT/2.Command_description">2.Command Description</a></li></ul></li></ul></li></ul></div></aside><section class="content"><article class="markdown-section" id="main"><h1 id="usage-of-jtag-debugger"><a href="https://en.docs.mxchip.com/#/docs/mxostool/4.JTAG_debugger?id=usage-of-jtag-debugger" data-id="usage-of-jtag-debugger" class="anchor"><span>Usage of JTAG debugger</span></a></h1><p>The JTAG debugger is used to connect the PC to the target hardware, download the executable compiled on the PC to the target hardware, and debug the target hardware.</p><pre v-pre="" data-lang=""><code class="lang-">PC == <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>USB</span> <span class="token attr-name">line</span><span class="token punctuation">&gt;</span></span> == Debugger == <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>JTAG</span> <span class="token attr-name">line</span><span class="token punctuation">&gt;</span></span> == Target hardware</code></pre><p>Note: If the target hardware already contains a debugger, you only need to connect the PC and the target hardware with a USB cable.</p><p>In the development of mxos, the following debuggers are available: JLink, STLink, DAPLink. Some debuggers require a driver to be installed (see below). In addition, when compiling the application, the debugger to be used should be selected using the parameter JTAG=XXX.</p><table>
<thead>
<tr>
<th align="left">Debugger</th>
<th align="left">Compilation parameter</th>
</tr>
</thead>
<tbody><tr>
<td align="left">JLink SWD interface（default）</td>
<td align="left">JTAG=jlink_swd</td>
</tr>
<tr>
<td align="left">JLink JTAG interface</td>
<td align="left">JTAG=jlink</td>
</tr>
<tr>
<td align="left">STLink</td>
<td align="left">JTAG=stlink-v2  or  stlink-v2-1</td>
</tr>
<tr>
<td align="left">DAPLink</td>
<td align="left">JTAG=cmsis-dap</td>
</tr>
</tbody></table>
<p>For example, to download and debug the helloworld application by using a different JTAG debugger on the mxosKit-3165 board, you need to compile the command as follows:</p><pre v-pre="" data-lang=""><code class="lang-">mxos make helloworld@MK3165 download JTAG=jlink_swd     or
mxos make helloworld@MK3165 download JTAG=jlink         or
mxos make helloworld@MK3165 download JTAG=stlink-v2     or
mxos make helloworld@MK3165 download JTAG=stlink-v2-1   </code></pre><h2 id="jlink"><a href="https://en.docs.mxchip.com/#/docs/mxostool/4.JTAG_debugger?id=jlink" data-id="jlink" class="anchor"><span>JLink</span></a></h2><p>The JLink Debugger (V8 or V9) is currently supported on all hardware platforms supported by mxos. On macOS, Linux platform, Jlink can be used after connecting to the USB interface of the PC. The installation steps under Windows are as follows:</p><ol><li>Download and install the JLink driver: Setup_JLink_V600i.zip. The installation is complete: </li></ol><p><a href="http://developer.mxchip.com/fileDownload/338" target="_blank" rel="noopener">Setup_JLink_V600i.zip</a>.安装完成显示：</p><p><img src="./4.JTAG Debugger - Document_files/jlink.png" data-origin="/image/5.jtag/jlink.png" alt="jlink原始驱动"></p><ol start="2"><li>Download Jlink's libusb driver:   <a href="http://mxos-distribute.mxchip.com/jlink_driver_for_mxos.zip" target="_blank" rel="noopener">Jlink_Driver_for_mxos.zip</a>，unzip and run: zadig.exe or zadig_xp.exe (for Windows XP)</li></ol><p><img src="./4.JTAG Debugger - Document_files/exe_path.png" data-origin="/image/5.jtag/exe_path.png" alt="jlink exe path"></p><ol start="3"><li>Select the menu: Options-&gt;List All Devices, select J-Link from the drop-down list, select “libusb-win32(v1.2.6.0)” for the driver, click “Replace Driver”, and return to “successful” to close. “libusb-win32 devices will appear in the device manager.</li></ol><p>If you are using JLinkV8, the update process is as follows:</p><p><img src="./4.JTAG Debugger - Document_files/jlink_v8_old.png" data-origin="/image/5.jtag/jlink_v8_old.png" alt="jlinkv8_old">   <img src="./4.JTAG Debugger - Document_files/jlinkv8_update.png" data-origin="/image/5.jtag/jlinkv8_update.png" alt="jlinkv8_update"></p><p>If you are using JLinkV9, the update process is as follows:</p><p><img src="./4.JTAG Debugger - Document_files/jlink_v9_old.png" data-origin="/image/5.jtag/jlink_v9_old.png" alt="jlinkv8_old">   <img src="./4.JTAG Debugger - Document_files/jlinkv9_update1.png" data-origin="/image/5.jtag/jlinkv9_update1.png" alt="jlinkv9_update1"></p><p><img src="./4.JTAG Debugger - Document_files/jlinkv9_update2.png" data-origin="/image/5.jtag/jlinkv9_update2.png" alt="jlinkv9_update2"></p><blockquote>
<p>Note: Due to different JLink firmware versions from different manufacturers, some JLink drivers may not work properly after replacing them with libusb-win32 (v1.2.6.0). In this case, try using "libusbK (v3.0.7.0)". </p></blockquote>
<p><img src="./4.JTAG Debugger - Document_files/jlink_libusbk_update.png" data-origin="/image/5.jtag/jlink_libusbk_update.png" alt="jlink_libusbk_update">  <img src="./4.JTAG Debugger - Document_files/jlink_libusbk_show.png" data-origin="/image/5.jtag/jlink_libusbk_show.png" alt="jlink_libusbk_show"></p><h2 id="stlink"><a href="https://en.docs.mxchip.com/#/docs/mxostool/4.JTAG_debugger?id=stlink" data-id="stlink" class="anchor"><span>STLink</span></a></h2><p>If you use the ST series MCU as the main controller, you can download and debug using the STLink emulator. Driver Download: <a href="http://www.st.com/content/st_com/en/products/development-tools/hardware-development-tools/development-tool-hardware-for-mcus/debug-hardware-for-mcus/debug-hardware-for-stm32-mcus/st-link-v2.html" target="_blank" rel="noopener">STLINK/V2</a></p><p> <img src="./4.JTAG Debugger - Document_files/stlink_show.png" data-origin="/image/5.jtag/stlink_show.png" alt="stlink_show"></p><h2 id="daplink"><a href="https://en.docs.mxchip.com/#/docs/mxostool/4.JTAG_debugger?id=daplink" data-id="daplink" class="anchor"><span>DAPLink</span></a></h2><p>DAPLink is an open source debugger provided by ARM that supports all microcontrollers that use the Corrtex-M core without the need to install drivers, but is slower to download and debug than JLink.</p></article></section></main>
  <script>
    window.$docsify = {
      name: '',
      repo: '',
      auto2top: true,
      coverpage: true,
      executeScript: true,
      loadSidebar: true,
      // loadNavbar: true,
      mergeNavbar: true,
      maxLevel: 4,
      subMaxLevel: 3,
      // ga: 'UA-106147152-1',
    }
  </script>
  <style>
    .sidebar li{
      margin: 0;
    }
  </style>
  <script src="./4.JTAG Debugger - Document_files/docsify.min.js.download"></script>


<div class="progress" style="opacity: 0; width: 0%;"></div></body></html>